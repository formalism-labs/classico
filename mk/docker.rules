
ifneq ($(MK.docker),)
#----------------------------------------------------------------------------------------------

DOCKER ?= docker

build:
	$(SHOW)$(DOCKER) $(DOCKER_ARGS) build $(DOCKER_BUILD_ARGS) \
		--build-context here=$(PWD) \
		--build-context classico=$(CLASSICO) \
		-t $(IMAGE_NAME) .

run:
	$(SHOW)$(DOCKER) $(DOCKER_ARGS) run $(DOCKER_RUN_ARGS) --name $(CONTAINER_NAME) --rm $(IMAGE_NAME)

stop:
	$(SHOW)-$(DOCKER) $(DOCKER_ARGS) stop $(CONTAINER_NAME)

# restart: stop run

logs:
	$(SHOW)$(DOCKER) $(DOCKER_ARGS) logs -f $(CONTAINER_NAME)

status:
	$(SHOW)$(DOCKER) $(DOCKER_ARGS) ps -a | grep $(CONTAINER_NAME) || echo "Container not running"

sh:
	$(SHOW)$(DOCKER) $(DOCKER_ARGS) exec -it $(CONTAINER_NAME) /bin/bash

.PHONY: build run stop logs status sh help

#----------------------------------------------------------------------------------------------
endif # MK.docker
